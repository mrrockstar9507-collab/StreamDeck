<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>StreamDeck</title>
  <meta name="theme-color" content="#151824">
  <meta name="description" content="StreamDeck — quick actions, macros, and controls">
  <style>
    :root{
      /* Neutral palette */
      --bg:#151824; --bg-veil:rgba(12,14,22,.55);
      --card:#1c2132; --text:#f5f7fb; --muted:#b9c1d8; --chip:#252b3e;
      --accent1:#7fb3ff; --accent2:#ffd28a; --accent3:#93f3b6; --accent4:#ff9fd9;
      --radius:16px; --shadow:0 14px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background: var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}
    button{font:inherit;color:inherit}

    /* ===== Background Mosaic (clickable) ===== */
    .bg-wrap{
      position:fixed; inset:0; overflow:hidden; z-index:0;
      background:linear-gradient(180deg,#0f1220 0%, #151824 60%, #1a1f2e 100%);
    }
    .mosaic{
      position:absolute; inset:-10% -10%; display:grid;
      /* Responsive tile counts */
      grid-template-columns: repeat(12, minmax(120px, 1fr));
      grid-auto-rows: 180px;
      gap:10px; transform:translate3d(0,0,0);
      animation: slowPan 40s linear infinite alternate;
    }
    @media (max-width:1200px){ .mosaic{grid-template-columns: repeat(10, minmax(120px,1fr))} }
    @media (max-width:900px){ .mosaic{grid-template-columns: repeat(8, minmax(120px,1fr)); grid-auto-rows:150px} }
    @media (max-width:640px){ .mosaic{grid-template-columns: repeat(6, minmax(100px,1fr)); grid-auto-rows:130px} }

    @keyframes slowPan{
      0%{ transform:translate3d(-2%, -2%, 0) scale(1.02); }
      100%{ transform:translate3d(2%, 2%, 0) scale(1.02); }
    }

    .tile{
      position:relative; border-radius:14px; overflow:hidden;
      border:1px solid rgba(255,255,255,.06);
      transition: transform .2s ease, filter .2s ease, border-color .2s ease;
    }
    .tile:focus-visible{ outline:2px solid rgba(255,255,255,.35); outline-offset:2px }
    .tile:hover{ transform:translateY(-2px); filter:brightness(1.04); border-color:rgba(255,255,255,.15) }
    .tile img{
      width:100%; height:100%; object-fit:cover; display:block;
      transform:scale(1.02); transition: transform .8s ease;
    }
    .tile:hover img{ transform:scale(1.05) }
    .tile .label{
      position:absolute; left:8px; bottom:8px; right:8px;
      padding:6px 8px; font-size:.8rem; color:#eaf1ff;
      background:linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.65));
      border-radius:10px;
      text-shadow: 0 1px 2px rgba(0,0,0,.7);
    }

    /* Veil for readability (doesn't block clicks) */
    .veil{
      position:fixed; inset:0; z-index:1; background:var(--bg-veil);
      pointer-events:none; /* clicks pass through to tiles */
    }

    /* Foreground layout */
    .wrap{position:relative; z-index:2; max-width:1140px; margin:0 auto; padding:22px}
    header{display:flex;align-items:center;gap:14px;margin-bottom:14px}
    .spacer{flex:1}

    /* Fun Logo (no glow) */
    .logo{
      width:56px;height:56px;border-radius:14px;
      background:linear-gradient(180deg,#242a3f, #1f2538);
      display:grid;place-items:center;cursor:pointer;user-select:none;
      border:1px solid rgba(255,255,255,.08);
      box-shadow:0 6px 16px rgba(0,0,0,.35);
      transition:transform .15s ease, filter .2s ease, border-color .2s ease;
    }
    .logo:hover{ filter:brightness(1.03); border-color:rgba(255,255,255,.16) }
    .logo:active{ transform:scale(.97) }
    .logo svg{ width:30px; height:30px; }

    /* Brand text — friendlier vibe */
    .brand{
      font-size:2.15rem;font-weight:900;letter-spacing:.02em;line-height:1.1;
      background: linear-gradient(90deg,#f4f7ff 0%, #cfe0ff 50%, #f4f7ff 100%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow: 0 1px 0 rgba(0,0,0,.25);
      white-space:nowrap
    }

    /* Status chip (no glow) */
    .chip{
      background:#23283a; border:1px solid rgba(255,255,255,.08);
      padding:8px 12px;border-radius:999px;font-size:.9rem;color:var(--muted);
      display:flex;align-items:center;gap:8px
    }
    .status-dot{width:8px;height:8px;border-radius:50%;background:var(--accent3);box-shadow:none}

    /* Card grid (no glow buttons) */
    .grid{
      display:grid; grid-template-columns:repeat(12,1fr); gap:16px; margin-top:18px
    }
    @media (max-width:980px){ .grid{grid-template-columns:repeat(8,1fr)} }
    @media (max-width:640px){ .grid{grid-template-columns:repeat(4,1fr)} }

    .card{
      grid-column:span 6;
      background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)),
                 linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.02)) var(--card);
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px; display:flex; flex-direction:column; gap:12px;
      transition:transform .15s ease, box-shadow .2s ease, border-color .2s ease;
      position:relative; overflow:hidden;
    }
    .card:hover{transform:translateY(-2px); box-shadow:0 18px 36px rgba(0,0,0,.45)}
    .card h3{margin:0;font-size:1.05rem;letter-spacing:.02em}
    .card p{margin:0;color:var(--muted);font-size:.95rem}
    .pill{
      align-self:flex-start;
      padding:6px 10px;border-radius:999px;font-size:.8rem;
      background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08)
    }
    .cta{
      margin-top:auto; display:flex; gap:10px; align-items:center;
      background:linear-gradient(135deg,#e7ecf8,#cfd8ec);
      color:#0a1030; font-weight:700; border:none; border-radius:12px;
      padding:10px 12px; cursor:pointer; box-shadow:none;
      transition:filter .15s ease, transform .15s ease;
    }
    .cta:hover{filter:brightness(1.03)}
    .cta:active{transform:translateY(1px)}
    .cta.secondary{
      background:linear-gradient(135deg,#ffe3a6,#f8d3ef);
      color:#10152a;
    }

    footer{opacity:.85;margin:28px 0 10px;color:var(--muted);font-size:.9rem}
    .kbd{
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,monospace;
      background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
      padding:.15rem .4rem; border-radius:.4rem
    }

    /* Spans */
    .span-4{grid-column:span 4}
    .span-6{grid-column:span 6}
    .span-8{grid-column:span 8}
    .span-12{grid-column:span 12}
  </style>
</head>
<body>
  <!-- CLICKABLE MOVIE MOSAIC BACKGROUND -->
  <div class="bg-wrap" aria-hidden="false">
    <div class="mosaic" id="mosaic" aria-label="Popular movies background grid"></div>
  </div>
  <div class="veil" aria-hidden="true"></div>

  <!-- FOREGROUND UI -->
  <div class="wrap">
    <header role="banner" aria-label="App header">
      <button class="logo" id="homeBtn" title="Home" tabindex="0" aria-label="Home">
        <!-- Fun clapperboard + reel logo -->
        <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <!-- Reel -->
          <circle cx="44" cy="40" r="12" stroke="#cfd8ec" stroke-width="3"/>
          <circle cx="44" cy="40" r="3" fill="#cfd8ec"/>
          <circle cx="44" cy="32" r="2" fill="#cfd8ec"/>
          <circle cx="52" cy="40" r="2" fill="#cfd8ec"/>
          <circle cx="44" cy="48" r="2" fill="#cfd8ec"/>
          <circle cx="36" cy="40" r="2" fill="#cfd8ec"/>
          <!-- Clapperboard -->
          <path d="M8 22h30a2 2 0 0 1 2 2v16H8V22z" fill="#2b3148" stroke="#cfd8ec" stroke-width="2"/>
          <path d="M8 18h30l-4 8H4l4-8z" fill="#39405c" stroke="#cfd8ec" stroke-width="2"/>
          <!-- Stripes -->
          <path d="M10 18l6 8M20 18l6 8M30 18l6 8" stroke="#cfd8ec" stroke-width="2"/>
        </svg>
      </button>
      <div class="brand" aria-label="StreamDeck brand">StreamDeck</div>
      <div class="spacer"></div>
      <div class="chip" aria-live="polite">
        <span class="status-dot" aria-hidden="true"></span>
        Connected
      </div>
    </header>

    <main class="grid" role="main">
      <section class="card span-6" aria-labelledby="scenesTitle">
        <span class="pill">Scenes</span>
        <h3 id="scenesTitle">One-tap streaming scenes</h3>
        <p>Switch layouts, toggle overlays, and animate stingers without touching your mouse.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <button class="cta" data-action="scene:Intro">Load Intro</button>
          <button class="cta secondary" data-action="scene:Main">Go Live</button>
        </div>
      </section>

      <section class="card span-6" aria-labelledby="macrosTitle">
        <span class="pill">Macros</span>
        <h3 id="macrosTitle">Hands-free workflows</h3>
        <p>Chain actions across your apps: launch, mute, record, save, and share in a single tap.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <button class="cta" data-action="macro:RecordSession">Start Recording</button>
          <button class="cta secondary" data-action="macro:PublishClip">Publish Clip</button>
        </div>
      </section>

      <section class="card span-4" aria-labelledby="mediaTitle">
        <span class="pill">Media</span>
        <h3 id="mediaTitle">Quick media controls</h3>
        <p>Play, pause, skip, capture screenshots, and drop markers on the timeline.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <button class="cta" data-action="media:PlayPause">Play/Pause</button>
          <button class="cta secondary" data-action="media:Marker">Add Marker</button>
        </div>
      </section>

      <section class="card span-4" aria-labelledby="systemTitle">
        <span class="pill">System</span>
        <h3 id="systemTitle">System actions</h3>
        <p>Launch apps, open URLs, set volume, and trigger shortcuts.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <button class="cta" data-action="system:OpenOBS">Open OBS</button>
          <button class="cta secondary" data-action="system:ToggleMute">Toggle Mute</button>
        </div>
      </section>

      <section class="card span-4" aria-labelledby="settingsTitle">
        <span class="pill">Settings</span>
        <h3 id="settingsTitle">Preferences</h3>
        <p>Customize keys, LED colors, hold-to-repeat, and per-profile layouts.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <button class="cta" data-action="settings:Open">Open Settings</button>
        </div>
      </section>
    </main>

    <footer>
      Pro tip: press <span class="kbd">/</span> to open quick actions.
    </footer>
  </div>

  <script>
    /**
     * Replace the items below with your real data.
     * cover: full image URL (e.g., /covers/tt123456.jpg or TMDB/OMDb CDN)
     * href: internal link to that movie’s page on your site (e.g., /movie/tt123456)
     */
    const movies = [
      { title:'Example One', cover:'https://images.unsplash.it/photo-1524985069026-dd778a71c7b4?w=600', href:'/movie/example-one' },
      { title:'Example Two', cover:'https://images.unsplash.it/photo-1535016120720-40c646be5580?w=600', href:'/movie/example-two' },
      { title:'Example Three', cover:'https://images.unsplash.it/photo-1498709112912-9be3173d30b9?w=600', href:'/movie/example-three' },
      { title:'Example Four', cover:'https://images.unsplash.it/photo-1517602302552-471fe67acf66?w=600', href:'/movie/example-four' },
      { title:'Example Five', cover:'https://images.unsplash.it/photo-1517601643596-21b7f85c2b53?w=600', href:'/movie/example-five' },
      { title:'Example Six', cover:'https://images.unsplash.it/photo-1497032628192-86f99bcd76bc?w=600', href:'/movie/example-six' },
      // Add as many as you like…
    ];

    // ========== Build Mosaic ==========
    const mosaicEl = document.getElementById('mosaic');

    // Aim to fill screen + buffer with tiles
    const columns = getComputedStyle(mosaicEl).gridTemplateColumns.split(' ').length;
    const rowHeight = parseInt(getComputedStyle(mosaicEl).gridAutoRows, 10) || 160;
    const rows = Math.ceil((window.innerHeight * 1.2) / rowHeight) + 2; // buffer
    const tileCount = Math.max(columns * rows, 48);

    // Repeat movies to fill the grid
    const pool = [];
    for (let i = 0; i < tileCount; i++) pool.push(movies[i % movies.length]);

    function makeTile(item, idx){
      const a = document.createElement('a');
      a.className = 'tile';
      a.href = item.href;
      a.setAttribute('aria-label', `${item.title}`);
      a.title = item.title;
      a.target = '_self';
      a.rel = 'noopener';

      const img = document.createElement('img');
      img.loading = 'lazy';
      img.decoding = 'async';
      img.src = item.cover;

      const label = document.createElement('div');
      label.className = 'label';
      label.textContent = item.title;

      a.appendChild(img);
      a.appendChild(label);
      return a;
    }

    pool.forEach((m, i)=> mosaicEl.appendChild(makeTile(m, i)));

    // Rotate a few random tiles every few seconds for motion
    function replaceRandomTile(){
      const tiles = mosaicEl.querySelectorAll('.tile');
      if(!tiles.length) return;
      const idx = Math.floor(Math.random() * tiles.length);
      const tile = tiles[idx];
      const next = movies[Math.floor(Math.random() * movies.length)];
      const img = tile.querySelector('img');
      const label = tile.querySelector('.label');

      // Fade swap
      tile.style.transition = 'opacity .5s ease';
      tile.style.opacity = '0.2';
      setTimeout(()=>{
        img.src = next.cover;
        label.textContent = next.title;
        tile.href = next.href;
        tile.setAttribute('aria-label', next.title);
        tile.style.opacity = '1';
      }, 250);
      setTimeout(()=>{ tile.style.transition = ''; }, 600);
    }
    setInterval(replaceRandomTile, 1500);

    // Recompute grid on resize (simple approach: rebuild)
    let resizeTimer;
    window.addEventListener('resize', ()=>{
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(()=>{
        mosaicEl.innerHTML = '';
        const columns = getComputedStyle(mosaicEl).gridTemplateColumns.split(' ').length;
        const rowHeight = parseInt(getComputedStyle(mosaicEl).gridAutoRows, 10) || 160;
        const rows = Math.ceil((window.innerHeight * 1.2) / rowHeight) + 2;
        const count = Math.max(columns * rows, 48);
        const pool = [];
        for (let i = 0; i < count; i++) pool.push(movies[i % movies.length]);
        pool.forEach((m, i)=> mosaicEl.appendChild(makeTile(m, i)));
      }, 200);
    });

    // ===== Foreground UI interactions (unchanged) =====
    const toast = (msg) => {
      const t = document.createElement('div');
      t.textContent = msg;
      Object.assign(t.style, {
        position:'fixed', left:'50%', bottom:'22px', transform:'translateX(-50%)',
        background:'rgba(0,0,0,.65)', color:'#fff', padding:'10px 14px',
        borderRadius:'12px', border:'1px solid rgba(255,255,255,.15)',
        backdropFilter:'blur(6px)', zIndex:9999
      });
      document.body.appendChild(t);
      setTimeout(()=>{ t.remove(); }, 1600);
    };

    document.querySelectorAll('[data-action]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const action = btn.getAttribute('data-action');
        toast(`Triggered: ${action}`);
      });
    });

    const homeBtn = document.getElementById('homeBtn');
    homeBtn.addEventListener('click', ()=> toast('Home'));
    homeBtn.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); homeBtn.click(); } });

    window.addEventListener('keydown', (e)=>{
      if(e.key === '/') {
        e.preventDefault();
        toast('Quick Actions… (wire this to your command palette)');
      }
    });
  </script>
</body>
</html>
